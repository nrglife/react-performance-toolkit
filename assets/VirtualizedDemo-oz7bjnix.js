import{r as x,e as ie,g as oe,V as be,u as se,j as t,s as ne,f as ae,x as _,h as le,W as Se,n as de,K as ze,_ as Ce,X as je,Y as J,B as C,C as N,T as u,b as Te,d as we,a as P}from"./index-Bfe2rCDc.js";import{D as V,A as L,a as E,C as A}from"./CodeBlock-BRMO-EvP.js";import{u as Ie}from"./useMockData-DTato0oX.js";import{F as Be,S as Oe}from"./Switch-CRlJplt-.js";function Re(e){return x.Children.toArray(e).filter(r=>x.isValidElement(r))}function Me(e){return oe("MuiToggleButton",e)}const $=ie("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),ce=x.createContext({}),ue=x.createContext(void 0);function $e(e,r){return r===void 0||e===void 0?!1:Array.isArray(r)?r.includes(e):e===r}const Le=e=>{const{classes:r,fullWidth:s,selected:l,disabled:h,size:S,color:T}=e,z={root:["root",l&&"selected",h&&"disabled",s&&"fullWidth",`size${_(S)}`,T]};return le(z,Me,r)},ke=ne(Se,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:s}=e;return[r.root,r[`size${_(s.size)}`]]}})(de(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${$.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${$.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(ze()).map(([r])=>({props:{color:r},style:{[`&.${$.selected}`]:{color:(e.vars||e).palette[r].main,backgroundColor:e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[r].main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette[r].main,(e.vars||e).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),U=x.forwardRef(function(r,s){const{value:l,...h}=x.useContext(ce),S=x.useContext(ue),T=be({...h,selected:$e(r.value,l)},r),z=se({props:T,name:"MuiToggleButton"}),{children:I,className:B,color:j="standard",disabled:O=!1,disableFocusRipple:w=!1,fullWidth:m=!1,onChange:y,onClick:i,selected:o,size:a="medium",value:c,...n}=z,p={...z,color:j,disabled:O,disableFocusRipple:w,fullWidth:m,size:a},d=Le(p),g=v=>{i&&(i(v,c),v.defaultPrevented)||y&&y(v,c)},f=S||"";return t.jsx(ke,{className:ae(h.className,d.root,B,f),disabled:O,focusRipple:!w,ref:s,onClick:g,onChange:y,value:c,ownerState:p,"aria-pressed":o,...n,children:I})});function De(e){return oe("MuiToggleButtonGroup",e)}const b=ie("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),We=e=>{const{classes:r,orientation:s,fullWidth:l,disabled:h}=e,S={root:["root",s,l&&"fullWidth"],grouped:["grouped",`grouped${_(s)}`,h&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return le(S,De,r)},Pe=ne("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:s}=e;return[{[`& .${b.grouped}`]:r.grouped},{[`& .${b.grouped}`]:r[`grouped${_(s.orientation)}`]},{[`& .${b.firstButton}`]:r.firstButton},{[`& .${b.lastButton}`]:r.lastButton},{[`& .${b.middleButton}`]:r.middleButton},r.root,s.orientation==="vertical"&&r.vertical,s.fullWidth&&r.fullWidth]}})(de(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${b.grouped}`]:{[`&.${b.selected} + .${b.grouped}.${b.selected}`]:{borderTop:0,marginTop:0}},[`& .${b.firstButton},& .${b.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${b.lastButton},& .${b.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${b.lastButton}.${$.disabled},& .${b.middleButton}.${$.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${b.grouped}`]:{[`&.${b.selected} + .${b.grouped}.${b.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${b.firstButton},& .${b.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${b.lastButton},& .${b.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${b.lastButton}.${$.disabled},& .${b.middleButton}.${$.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),_e=x.forwardRef(function(r,s){const l=se({props:r,name:"MuiToggleButtonGroup"}),{children:h,className:S,color:T="standard",disabled:z=!1,exclusive:I=!1,fullWidth:B=!1,onChange:j,orientation:O="horizontal",size:w="medium",value:m,...y}=l,i={...l,disabled:z,fullWidth:B,orientation:O,size:w},o=We(i),a=x.useCallback((f,v)=>{if(!j)return;const R=m&&m.indexOf(v);let M;m&&R>=0?(M=m.slice(),M.splice(R,1)):M=m?m.concat(v):[v],j(f,M)},[j,m]),c=x.useCallback((f,v)=>{j&&j(f,m===v?null:v)},[j,m]),n=x.useMemo(()=>({className:o.grouped,onChange:I?c:a,value:m,size:w,fullWidth:B,color:T,disabled:z}),[o.grouped,I,c,a,m,w,B,T,z]),p=Re(h),d=p.length,g=f=>{const v=f===0,R=f===d-1;return v&&R?"":v?o.firstButton:R?o.lastButton:o.middleButton};return t.jsx(Pe,{role:"group",className:ae(o.root,S),ref:s,ownerState:i,...y,children:t.jsx(ce.Provider,{value:n,children:p.map((f,v)=>t.jsx(ue.Provider,{value:g(v),children:f},v))})})});var Q=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function Fe(e,r){return!!(e===r||Q(e)&&Q(r))}function Ne(e,r){if(e.length!==r.length)return!1;for(var s=0;s<e.length;s++)if(!Fe(e[s],r[s]))return!1;return!0}function q(e,r){r===void 0&&(r=Ne);var s,l=[],h,S=!1;function T(){for(var z=[],I=0;I<arguments.length;I++)z[I]=arguments[I];return S&&s===this&&r(z,l)||(h=e.apply(this,z),S=!0,s=this,l=z),h}return T}var Ve=typeof performance=="object"&&typeof performance.now=="function",Z=Ve?function(){return performance.now()}:function(){return Date.now()};function ee(e){cancelAnimationFrame(e.id)}function Ee(e,r){var s=Z();function l(){Z()-s>=r?e.call(null):h.id=requestAnimationFrame(l)}var h={id:requestAnimationFrame(l)};return h}var G=-1;function te(e){if(e===void 0&&(e=!1),G===-1||e){var r=document.createElement("div"),s=r.style;s.width="50px",s.height="50px",s.overflow="scroll",document.body.appendChild(r),G=r.offsetWidth-r.clientWidth,document.body.removeChild(r)}return G}var k=null;function re(e){if(e===void 0&&(e=!1),k===null||e){var r=document.createElement("div"),s=r.style;s.width="50px",s.height="50px",s.overflow="scroll",s.direction="rtl";var l=document.createElement("div"),h=l.style;return h.width="100px",h.height="100px",r.appendChild(l),document.body.appendChild(r),r.scrollLeft>0?k="positive-descending":(r.scrollLeft=1,r.scrollLeft===0?k="negative":k="positive-ascending"),document.body.removeChild(r),k}return k}var Ae=150,Ue=function(r,s){return r};function qe(e){var r,s=e.getItemOffset,l=e.getEstimatedTotalSize,h=e.getItemSize,S=e.getOffsetForIndexAndAlignment,T=e.getStartIndexForOffset,z=e.getStopIndexForStartIndex,I=e.initInstanceProps,B=e.shouldResetStyleCacheOnItemSizeChange,j=e.validateProps;return r=(function(O){Ce(w,O);function w(y){var i;return i=O.call(this,y)||this,i._instanceProps=I(i.props,J(i)),i._outerRef=void 0,i._resetIsScrollingTimeoutId=null,i.state={instance:J(i),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof i.props.initialScrollOffset=="number"?i.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},i._callOnItemsRendered=void 0,i._callOnItemsRendered=q(function(o,a,c,n){return i.props.onItemsRendered({overscanStartIndex:o,overscanStopIndex:a,visibleStartIndex:c,visibleStopIndex:n})}),i._callOnScroll=void 0,i._callOnScroll=q(function(o,a,c){return i.props.onScroll({scrollDirection:o,scrollOffset:a,scrollUpdateWasRequested:c})}),i._getItemStyle=void 0,i._getItemStyle=function(o){var a=i.props,c=a.direction,n=a.itemSize,p=a.layout,d=i._getItemStyleCache(B&&n,B&&p,B&&c),g;if(d.hasOwnProperty(o))g=d[o];else{var f=s(i.props,o,i._instanceProps),v=h(i.props,o,i._instanceProps),R=c==="horizontal"||p==="horizontal",M=c==="rtl",W=R?f:0;d[o]=g={position:"absolute",left:M?void 0:W,right:M?W:void 0,top:R?0:f,height:R?"100%":v,width:R?v:"100%"}}return g},i._getItemStyleCache=void 0,i._getItemStyleCache=q(function(o,a,c){return{}}),i._onScrollHorizontal=function(o){var a=o.currentTarget,c=a.clientWidth,n=a.scrollLeft,p=a.scrollWidth;i.setState(function(d){if(d.scrollOffset===n)return null;var g=i.props.direction,f=n;if(g==="rtl")switch(re()){case"negative":f=-n;break;case"positive-descending":f=p-c-n;break}return f=Math.max(0,Math.min(f,p-c)),{isScrolling:!0,scrollDirection:d.scrollOffset<f?"forward":"backward",scrollOffset:f,scrollUpdateWasRequested:!1}},i._resetIsScrollingDebounced)},i._onScrollVertical=function(o){var a=o.currentTarget,c=a.clientHeight,n=a.scrollHeight,p=a.scrollTop;i.setState(function(d){if(d.scrollOffset===p)return null;var g=Math.max(0,Math.min(p,n-c));return{isScrolling:!0,scrollDirection:d.scrollOffset<g?"forward":"backward",scrollOffset:g,scrollUpdateWasRequested:!1}},i._resetIsScrollingDebounced)},i._outerRefSetter=function(o){var a=i.props.outerRef;i._outerRef=o,typeof a=="function"?a(o):a!=null&&typeof a=="object"&&a.hasOwnProperty("current")&&(a.current=o)},i._resetIsScrollingDebounced=function(){i._resetIsScrollingTimeoutId!==null&&ee(i._resetIsScrollingTimeoutId),i._resetIsScrollingTimeoutId=Ee(i._resetIsScrolling,Ae)},i._resetIsScrolling=function(){i._resetIsScrollingTimeoutId=null,i.setState({isScrolling:!1},function(){i._getItemStyleCache(-1,null)})},i}w.getDerivedStateFromProps=function(i,o){return Ge(i,o),j(i),null};var m=w.prototype;return m.scrollTo=function(i){i=Math.max(0,i),this.setState(function(o){return o.scrollOffset===i?null:{scrollDirection:o.scrollOffset<i?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},m.scrollToItem=function(i,o){o===void 0&&(o="auto");var a=this.props,c=a.itemCount,n=a.layout,p=this.state.scrollOffset;i=Math.max(0,Math.min(i,c-1));var d=0;if(this._outerRef){var g=this._outerRef;n==="vertical"?d=g.scrollWidth>g.clientWidth?te():0:d=g.scrollHeight>g.clientHeight?te():0}this.scrollTo(S(this.props,i,o,p,this._instanceProps,d))},m.componentDidMount=function(){var i=this.props,o=i.direction,a=i.initialScrollOffset,c=i.layout;if(typeof a=="number"&&this._outerRef!=null){var n=this._outerRef;o==="horizontal"||c==="horizontal"?n.scrollLeft=a:n.scrollTop=a}this._callPropsCallbacks()},m.componentDidUpdate=function(){var i=this.props,o=i.direction,a=i.layout,c=this.state,n=c.scrollOffset,p=c.scrollUpdateWasRequested;if(p&&this._outerRef!=null){var d=this._outerRef;if(o==="horizontal"||a==="horizontal")if(o==="rtl")switch(re()){case"negative":d.scrollLeft=-n;break;case"positive-ascending":d.scrollLeft=n;break;default:var g=d.clientWidth,f=d.scrollWidth;d.scrollLeft=f-g-n;break}else d.scrollLeft=n;else d.scrollTop=n}this._callPropsCallbacks()},m.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ee(this._resetIsScrollingTimeoutId)},m.render=function(){var i=this.props,o=i.children,a=i.className,c=i.direction,n=i.height,p=i.innerRef,d=i.innerElementType,g=i.innerTagName,f=i.itemCount,v=i.itemData,R=i.itemKey,M=R===void 0?Ue:R,W=i.layout,pe=i.outerElementType,he=i.outerTagName,me=i.style,fe=i.useIsScrolling,ge=i.width,K=this.state.isScrolling,F=c==="horizontal"||W==="horizontal",ve=F?this._onScrollHorizontal:this._onScrollVertical,H=this._getRangeToRender(),xe=H[0],ye=H[1],X=[];if(f>0)for(var D=xe;D<=ye;D++)X.push(x.createElement(o,{data:v,key:M(D,v),index:D,isScrolling:fe?K:void 0,style:this._getItemStyle(D)}));var Y=l(this.props,this._instanceProps);return x.createElement(pe||he||"div",{className:a,onScroll:ve,ref:this._outerRefSetter,style:je({position:"relative",height:n,width:ge,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:c},me)},x.createElement(d||g||"div",{children:X,ref:p,style:{height:F?"100%":Y,pointerEvents:K?"none":void 0,width:F?Y:"100%"}}))},m._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var i=this.props.itemCount;if(i>0){var o=this._getRangeToRender(),a=o[0],c=o[1],n=o[2],p=o[3];this._callOnItemsRendered(a,c,n,p)}}if(typeof this.props.onScroll=="function"){var d=this.state,g=d.scrollDirection,f=d.scrollOffset,v=d.scrollUpdateWasRequested;this._callOnScroll(g,f,v)}},m._getRangeToRender=function(){var i=this.props,o=i.itemCount,a=i.overscanCount,c=this.state,n=c.isScrolling,p=c.scrollDirection,d=c.scrollOffset;if(o===0)return[0,0,0,0];var g=T(this.props,d,this._instanceProps),f=z(this.props,g,d,this._instanceProps),v=!n||p==="backward"?Math.max(1,a):1,R=!n||p==="forward"?Math.max(1,a):1;return[Math.max(0,g-v),Math.max(0,Math.min(o-1,f+R)),g,f]},w})(x.PureComponent),r.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},r}var Ge=function(r,s){r.children,r.direction,r.height,r.layout,r.innerTagName,r.outerTagName,r.width,s.instance},Ke=qe({getItemOffset:function(r,s){var l=r.itemSize;return s*l},getItemSize:function(r,s){var l=r.itemSize;return l},getEstimatedTotalSize:function(r){var s=r.itemCount,l=r.itemSize;return l*s},getOffsetForIndexAndAlignment:function(r,s,l,h,S,T){var z=r.direction,I=r.height,B=r.itemCount,j=r.itemSize,O=r.layout,w=r.width,m=z==="horizontal"||O==="horizontal",y=m?w:I,i=Math.max(0,B*j-y),o=Math.min(i,s*j),a=Math.max(0,s*j-y+j+T);switch(l==="smart"&&(h>=a-y&&h<=o+y?l="auto":l="center"),l){case"start":return o;case"end":return a;case"center":{var c=Math.round(a+(o-a)/2);return c<Math.ceil(y/2)?0:c>i+Math.floor(y/2)?i:c}case"auto":default:return h>=a&&h<=o?h:h<a?a:o}},getStartIndexForOffset:function(r,s){var l=r.itemCount,h=r.itemSize;return Math.max(0,Math.min(l-1,Math.floor(s/h)))},getStopIndexForStartIndex:function(r,s,l){var h=r.direction,S=r.height,T=r.itemCount,z=r.itemSize,I=r.layout,B=r.width,j=h==="horizontal"||I==="horizontal",O=s*z,w=j?B:S,m=Math.ceil((w+l-O)/z);return Math.max(0,Math.min(T-1,s+m-1))},initInstanceProps:function(r){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(r){r.itemSize}});function He({containerId:e}){const[r,s]=x.useState(0);return x.useEffect(()=>{const l=()=>{const S=document.getElementById(e);if(S){const T=S.querySelectorAll("[data-list-item]").length;s(T)}};l();const h=setInterval(l,100);return()=>clearInterval(h)},[e]),t.jsx(P,{label:`${r} DOM nodes`,size:"small",color:r>100?"error":r>50?"warning":"success",sx:{fontFamily:"monospace"}})}function Ze(){const{data:e,loading:r,error:s}=Ie(),[l,h]=x.useState(!0),[S,T]=x.useState("medium"),[z,I]=x.useState(0),[B,j]=x.useState(0),[O,w]=x.useTransition(),m=x.useMemo(()=>{let n=[];if(!e)return n;switch(S){case"small":n=e.small||[];break;case"medium":n=e.medium||[];break;case"large":n=e.large||[];break;default:n=e.medium||[]}return n},[e,S]);x.useEffect(()=>{const n=performance.now();requestAnimationFrame(()=>{const p=performance.now();I(p-n)})},[m,l]);const y=x.useMemo(()=>{const d=(l?30:m.length)*1e3/1024;return d<1024?`${d.toFixed(0)} KB`:`${(d/1024).toFixed(1)} MB`},[l,m.length]),i=()=>{j(n=>n+1)};if(x.useEffect(()=>{j(0)},[l,S]),r)return t.jsx(V,{title:"Virtualized List Demo",children:t.jsx(C,{sx:{display:"flex",justifyContent:"center",py:8},children:t.jsx(N,{})})});if(s)return t.jsx(V,{title:"Virtualized List Demo",children:t.jsxs(L,{severity:"error",children:["Error loading data: ",s.message]})});const o=({index:n,style:p})=>{const d=m[n];return t.jsxs(C,{style:p,"data-list-item":!0,sx:{display:"flex",alignItems:"center",px:2,borderBottom:1,borderColor:"divider",bgcolor:n%2===0?"background.paper":"action.hover"},children:[t.jsx(C,{sx:{flex:1},children:t.jsx(u,{variant:"body2",children:d.name})}),t.jsxs(C,{sx:{display:"flex",gap:2},children:[t.jsx(u,{variant:"caption",color:"text.secondary",children:d.category}),t.jsx(u,{variant:"caption",color:"text.secondary",children:d.value})]})]})};return t.jsxs(V,{title:"Virtualized List Demo",description:"See how react-window renders large lists efficiently by only rendering visible items",children:[t.jsxs(L,{severity:"info",sx:{mb:3},children:[t.jsx(u,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"üéØ Try This: Change list size and toggle virtualization"}),t.jsx(u,{variant:"body2",sx:{mb:1},children:"Watch the DOM node counter to see the massive difference! Virtualized lists render only ~30 nodes regardless of list size."}),t.jsxs(u,{variant:"body2",sx:{fontStyle:"italic",fontSize:"0.875rem"},children:["üí° Notice: When switching to non-virtualized mode, a loading spinner appears. This demo uses ",t.jsx("strong",{children:"useTransition"})," to keep the UI responsive while rendering thousands of DOM nodes!"]})]}),t.jsx(Te,{sx:{mb:3},children:t.jsx(we,{children:t.jsxs(C,{sx:{display:"flex",flexDirection:"column",gap:2},children:[t.jsxs(C,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2},children:[t.jsx(Be,{control:t.jsx(Oe,{checked:l,onChange:n=>{n.target.checked?h(!0):w(()=>{h(!1)})},disabled:O}),label:t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.jsx(u,{variant:"body2",children:l?"‚úÖ Virtualization ON":"‚ùå Virtualization OFF"}),O&&t.jsx(N,{size:16,sx:{ml:1}})]})}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(u,{variant:"body2",color:"text.secondary",children:"List Size:"}),t.jsxs(_e,{value:S,exclusive:!0,onChange:(n,p)=>{if(p){const d={small:1e3,medium:1e4,large:1e5},g=d[S],f=d[p];!l||f>g?w(()=>{T(p)}):T(p)}},size:"small",disabled:O,children:[t.jsx(U,{value:"small",children:"1K"}),t.jsx(U,{value:"medium",children:"10K"}),t.jsx(U,{value:"large",children:"100K"})]})]})]}),t.jsxs(C,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[t.jsxs(u,{variant:"body2",color:"text.secondary",children:["Total items: ",t.jsx("strong",{children:m.length.toLocaleString()})]}),t.jsx(He,{containerId:l?"virtualized-list":"regular-list"}),t.jsx(P,{label:`~${y} memory`,size:"small",color:"info",sx:{fontFamily:"monospace"}}),t.jsx(P,{label:`${z.toFixed(1)}ms render`,size:"small",color:z>100?"error":z>50?"warning":"success",sx:{fontFamily:"monospace"}}),B>0&&t.jsx(P,{label:`${B} scrolls`,size:"small",variant:"outlined",sx:{fontFamily:"monospace"}})]})]})})}),t.jsxs(L,{severity:l?"success":"warning",sx:{mb:3},children:[t.jsx(u,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:l?"‚úÖ With Virtualization:":"‚ùå Without Virtualization:"}),l?t.jsxs(t.Fragment,{children:[t.jsx(u,{variant:"body2",sx:{mb:1},children:"‚Ä¢ Only renders visible items (~12) plus a small buffer (~30 total DOM nodes)"}),t.jsx(u,{variant:"body2",sx:{mb:1},children:"‚Ä¢ Scrolling is smooth even with 100,000 items"}),t.jsx(u,{variant:"body2",children:"‚Ä¢ Memory usage stays constant regardless of list size"})]}):t.jsxs(t.Fragment,{children:[t.jsxs(u,{variant:"body2",sx:{mb:1},children:["‚Ä¢ Renders ALL items to the DOM (",m.length.toLocaleString()," DOM nodes!)"]}),t.jsx(u,{variant:"body2",sx:{mb:1},children:"‚Ä¢ Scrolling may lag with large lists (try 100K items)"}),t.jsx(u,{variant:"body2",children:"‚Ä¢ High memory usage and slow initial render"})]})]}),t.jsxs(C,{sx:{mb:3,position:"relative"},children:[O&&t.jsx(C,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(0, 0, 0, 0.1)",zIndex:10,borderRadius:1},children:t.jsxs(C,{sx:{textAlign:"center"},children:[t.jsx(N,{size:60}),t.jsxs(u,{variant:"body2",sx:{mt:2},children:["Rendering ",m.length.toLocaleString()," items..."]})]})}),l?t.jsx(C,{id:"virtualized-list",sx:{border:1,borderColor:"divider",borderRadius:1},children:t.jsx(Ke,{height:600,width:"100%",itemCount:m.length,itemSize:50,onScroll:i,children:o})}):t.jsx(C,{id:"regular-list",onScroll:i,sx:{height:600,overflow:"auto",border:1,borderColor:"divider",borderRadius:1},children:m.map((n,p)=>t.jsxs(C,{"data-list-item":!0,sx:{display:"flex",alignItems:"center",px:2,height:50,borderBottom:1,borderColor:"divider",bgcolor:p%2===0?"background.paper":"action.hover"},children:[t.jsx(C,{sx:{flex:1},children:t.jsx(u,{variant:"body2",children:n.name})}),t.jsxs(C,{sx:{display:"flex",gap:2},children:[t.jsx(u,{variant:"caption",color:"text.secondary",children:n.category}),t.jsx(u,{variant:"caption",color:"text.secondary",children:n.value})]})]},n.id))})]}),t.jsx(E,{sx:{my:4}}),t.jsxs(C,{sx:{mb:4},children:[t.jsx(u,{variant:"h6",gutterBottom:!0,children:"üîÑ Bonus: useTransition in Action"}),t.jsxs(L,{severity:"success",sx:{mb:2},children:[t.jsx(u,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"This demo uses useTransition to keep the UI responsive!"}),t.jsxs(u,{variant:"body2",sx:{mb:1},children:["When you switch to non-virtualized mode or increase list size, the UI could freeze while rendering thousands of DOM nodes. Instead, we wrap expensive operations in ",t.jsx("code",{children:"startTransition()"})," to show a loading spinner and keep controls responsive."]}),t.jsx(u,{variant:"body2",children:"Notice: Switching back to virtualized mode is instant (no spinner) because it's a cheap operation. This is smart optimization - only use transitions for expensive work!"})]}),t.jsx(A,{title:"Smart useTransition - Only for Expensive Operations",code:`import { useTransition } from 'react';

function VirtualizedDemo() {
  const [isPending, startTransition] = useTransition();
  const [useVirtualization, setUseVirtualization] = useState(true);

  const handleToggle = (willBeVirtualized) => {
    if (!willBeVirtualized) {
      // Expensive: Rendering 10,000 DOM nodes
      startTransition(() => {
        setUseVirtualization(false);
      });
    } else {
      // Cheap: Switching to ~30 nodes - no transition needed
      setUseVirtualization(true);
    }
  };

  return (
    <>
      {isPending && <LoadingSpinner />}
      {/* ... */}
    </>
  );
}`,language:"typescript"})]}),t.jsx(E,{sx:{my:4}}),t.jsxs(C,{children:[t.jsx(u,{variant:"h6",gutterBottom:!0,children:"Implementation"}),t.jsx(A,{title:"‚úÖ Virtualized List (react-window)",code:`import { FixedSizeList } from 'react-window';

function VirtualizedList({ items }) {
  const Row = ({ index, style }) => (
    <div style={style}>
      {items[index].name}
    </div>
  );

  return (
    <FixedSizeList
      height={600}
      width="100%"
      itemCount={items.length}
      itemSize={50}
    >
      {Row}
    </FixedSizeList>
  );
}

// Only renders ~12 visible items + buffer
// Total DOM nodes: ~30 (regardless of list size!)`,language:"typescript"}),t.jsx(A,{title:"‚ùå Regular List (renders everything)",code:`function RegularList({ items }) {
  return (
    <div style={{ height: 600, overflow: 'auto' }}>
      {items.map((item, index) => (
        <div key={item.id}>
          {item.name}
        </div>
      ))}
    </div>
  );
}

// Renders ALL items to the DOM
// 10,000 items = 10,000 DOM nodes!`,language:"typescript"})]}),t.jsx(E,{sx:{my:4}}),t.jsxs(C,{sx:{mb:4},children:[t.jsx(u,{variant:"h6",gutterBottom:!0,children:"Understanding the Metrics"}),t.jsxs(L,{severity:"info",children:[t.jsxs(u,{variant:"body2",sx:{mb:1},children:["‚Ä¢ ",t.jsx("strong",{children:"DOM nodes:"})," Actual elements in the browser's DOM tree. Fewer = better performance"]}),t.jsxs(u,{variant:"body2",sx:{mb:1},children:["‚Ä¢ ",t.jsx("strong",{children:"Memory:"})," Estimated RAM used by DOM nodes. Virtualized lists use ~30KB vs several MB"]}),t.jsxs(u,{variant:"body2",sx:{mb:1},children:["‚Ä¢ ",t.jsx("strong",{children:"Render time:"})," How long it took to prepare the list. Lower is better"]}),t.jsxs(u,{variant:"body2",children:["‚Ä¢ ",t.jsx("strong",{children:"Scrolls:"})," Number of scroll events. Try scrolling fast - virtualized stays smooth!"]})]})]}),t.jsxs(C,{children:[t.jsx(u,{variant:"h6",gutterBottom:!0,children:"How Virtualization Works"}),t.jsxs(u,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["‚Ä¢ ",t.jsx("strong",{children:"Window technique:"}),' Only renders items visible in the scrollable "window"']}),t.jsxs(u,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["‚Ä¢ ",t.jsx("strong",{children:"Dynamic rendering:"})," As you scroll, items are added/removed from the DOM"]}),t.jsxs(u,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["‚Ä¢ ",t.jsx("strong",{children:"Constant performance:"})," 100 items or 100,000 items - same DOM node count"]}),t.jsxs(u,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["‚Ä¢ ",t.jsx("strong",{children:"Absolute positioning:"})," Uses CSS transforms for smooth scrolling"]}),t.jsxs(L,{severity:"warning",sx:{mt:2},children:[t.jsx(u,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"‚ö†Ô∏è When to Use Virtualization"}),t.jsx(u,{variant:"body2",sx:{mb:1},children:"‚Ä¢ Lists with 100+ items where performance matters"}),t.jsx(u,{variant:"body2",sx:{mb:1},children:"‚Ä¢ Infinite scroll or large data tables"}),t.jsx(u,{variant:"body2",children:"‚Ä¢ Don't use for small lists (overhead not worth it)"})]})]})]})}export{Ze as default};
