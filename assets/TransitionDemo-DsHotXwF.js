import{j as e,i as n,q as m,r as c,h as t,F,p as S,s as z,t as D,L,u as y,v as j,D as f}from"./mui-vendor-C0Vrls3f.js";import{r}from"./react-vendor-MXZqnNxl.js";import{D as p,C as v}from"./CodeBlock-CU08gLq0.js";import{u as U}from"./useMockData-9NxU6MHF.js";import{e as V}from"./expensiveCalculation-CrE_IYLs.js";import"./syntax-highlighter-BxLn08Mh.js";function R(){const{data:a,loading:b,error:g}=U(),[s,T]=r.useState(!0),[I,u]=r.useState(""),[x,h]=r.useState(""),[C,k]=r.useTransition(),o=r.useMemo(()=>(a==null?void 0:a.medium)||[],[a]),l=r.useMemo(()=>x?V(o,x):o,[o,x]),w=i=>{const d=i.target.value;s?(u(d),k(()=>{h(d)})):(u(d),h(d))};return b?e.jsx(p,{title:"useTransition Demo",children:e.jsx(n,{sx:{display:"flex",justifyContent:"center",py:8},children:e.jsx(m,{})})}):g?e.jsx(p,{title:"useTransition Demo",children:e.jsxs(c,{severity:"error",children:["Error loading data: ",g.message]})}):e.jsxs(p,{title:"useTransition Demo",description:"Compare UI responsiveness with and without React 18's useTransition hook",children:[e.jsxs(c,{severity:"info",sx:{mb:3},children:[e.jsx(t,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"ðŸŽ¯ Try This: Type quickly in the input field below"}),e.jsxs(t,{variant:"body2",children:["This demo filters ",e.jsxs("strong",{children:[o.length.toLocaleString()," items"]}),". Toggle between modes and ",e.jsx("strong",{children:"feel"})," the difference in responsiveness!"]})]}),e.jsx(n,{sx:{mb:3},children:e.jsx(F,{control:e.jsx(z,{checked:s,onChange:i=>{T(i.target.checked),u(""),h("")},color:"primary"}),label:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(t,{variant:"body1",children:s?"âœ… Optimization ON":"âŒ Optimization OFF"}),e.jsx(S,{label:s?"useTransition":"Baseline",size:"small",color:s?"success":"default"})]})})}),e.jsxs(c,{severity:s?"success":"warning",sx:{mb:3},children:[e.jsx(t,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:s?"âœ… With useTransition:":"âŒ Without useTransition:"}),e.jsx(t,{variant:"body2",children:s?"Input feels smooth and responsive. You can type quickly without lag. The filtering happens in the background.":"Input feels sluggish and laggy. Each keystroke waits for the expensive filtering to complete before updating."})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(D,{fullWidth:!0,label:"Filter items",value:I,onChange:w,placeholder:"Type to filter... (try typing quickly!)",variant:"outlined"}),C&&s&&e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,minWidth:120},children:[e.jsx(m,{size:20}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"Filtering..."})]})]}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["Showing ",l.length.toLocaleString()," of ",o.length.toLocaleString()," ","items"]})]}),e.jsxs(L,{sx:{maxHeight:400,overflow:"auto",border:1,borderColor:"divider",borderRadius:1},children:[l.slice(0,50).map(i=>e.jsx(y,{divider:!0,children:e.jsx(j,{primary:i.name,secondary:`Category: ${i.category} | Value: ${i.value}`})},i.id)),l.length>50&&e.jsx(y,{children:e.jsx(j,{secondary:`... and ${(l.length-50).toLocaleString()} more items`})})]}),e.jsx(f,{sx:{my:4}}),e.jsxs(n,{children:[e.jsx(t,{variant:"h6",gutterBottom:!0,children:"Implementation"}),e.jsx(v,{title:"âœ… Optimized (with useTransition)",code:`const [inputValue, setInputValue] = useState('');
const [filter, setFilter] = useState('');
const [isPending, startTransition] = useTransition();

const handleChange = (e) => {
  const value = e.target.value;

  // Urgent: Update input immediately
  setInputValue(value);

  // Non-urgent: Defer expensive filtering
  startTransition(() => {
    setFilter(value);
  });
};`,language:"typescript"}),e.jsx(v,{title:"âŒ Baseline (without useTransition)",code:`const [inputValue, setInputValue] = useState('');
const [filter, setFilter] = useState('');

const handleChange = (e) => {
  const value = e.target.value;

  // Both updates are urgent - blocks UI!
  setInputValue(value);
  setFilter(value);
};`,language:"typescript"})]}),e.jsx(f,{sx:{my:4}}),e.jsxs(n,{children:[e.jsx(t,{variant:"h6",gutterBottom:!0,children:"How it works"}),e.jsxs(t,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["â€¢ ",e.jsx("strong",{children:"Urgent updates:"})," Input field updates immediately for responsive typing"]}),e.jsxs(t,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["â€¢ ",e.jsx("strong",{children:"Non-urgent updates:"})," Expensive filtering wrapped in startTransition"]}),e.jsxs(t,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["â€¢ ",e.jsx("strong",{children:"Concurrent rendering:"})," React can interrupt filtering to keep UI responsive"]}),e.jsxs(t,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["â€¢ ",e.jsx("strong",{children:"isPending:"})," Shows when transition is in progress"]}),e.jsxs(c,{severity:"info",sx:{mt:2},children:[e.jsx(t,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"ðŸ’¡ Key Insight: It's About User Experience, Not Metrics"}),e.jsxs(t,{variant:"body2",children:["useTransition doesn't make your code faster or reduce renders. It makes your UI ",e.jsx("strong",{children:"feel"})," more responsive by prioritizing user input over expensive background work. The difference is in the experience, not the numbers."]})]})]})]})}export{R as default};
