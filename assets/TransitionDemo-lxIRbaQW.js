import{r,j as e,B as n,C as m,T as t,a as S}from"./index-Schwu1pY.js";import{D as h,A as d,a as y,C as j}from"./CodeBlock-Decn4p9E.js";import{u as F}from"./useMockData-Bw2cNVs0.js";import{e as z,T as L,L as D}from"./expensiveCalculation-D2S9qGUV.js";import{F as U,S as V}from"./Switch-J033pQTa.js";import{L as f,a as v}from"./ListItemText-Dqhc0rFS.js";function q(){const{data:p,loading:b,error:g}=F(),[s,T]=r.useState(!0),[I,c]=r.useState(""),[u,x]=r.useState(""),[C,k]=r.useTransition(),o=r.useMemo(()=>p?.medium||[],[p]),a=r.useMemo(()=>u?z(o,u):o,[o,u]),w=i=>{const l=i.target.value;s?(c(l),k(()=>{x(l)})):(c(l),x(l))};return b?e.jsx(h,{title:"useTransition Demo",children:e.jsx(n,{sx:{display:"flex",justifyContent:"center",py:8},children:e.jsx(m,{})})}):g?e.jsx(h,{title:"useTransition Demo",children:e.jsxs(d,{severity:"error",children:["Error loading data: ",g.message]})}):e.jsxs(h,{title:"useTransition Demo",description:"Compare UI responsiveness with and without React 18's useTransition hook",children:[e.jsxs(d,{severity:"info",sx:{mb:3},children:[e.jsx(t,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"ðŸŽ¯ Try This: Type quickly in the input field below"}),e.jsxs(t,{variant:"body2",children:["This demo filters ",e.jsxs("strong",{children:[o.length.toLocaleString()," items"]}),". Toggle between modes and ",e.jsx("strong",{children:"feel"})," the difference in responsiveness!"]})]}),e.jsx(n,{sx:{mb:3},children:e.jsx(U,{control:e.jsx(V,{checked:s,onChange:i=>{T(i.target.checked),c(""),x("")},color:"primary"}),label:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(t,{variant:"body1",children:s?"âœ… Optimization ON":"âŒ Optimization OFF"}),e.jsx(S,{label:s?"useTransition":"Baseline",size:"small",color:s?"success":"default"})]})})}),e.jsxs(d,{severity:s?"success":"warning",sx:{mb:3},children:[e.jsx(t,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:s?"âœ… With useTransition:":"âŒ Without useTransition:"}),e.jsx(t,{variant:"body2",children:s?"Input feels smooth and responsive. You can type quickly without lag. The filtering happens in the background.":"Input feels sluggish and laggy. Each keystroke waits for the expensive filtering to complete before updating."})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(L,{fullWidth:!0,label:"Filter items",value:I,onChange:w,placeholder:"Type to filter... (try typing quickly!)",variant:"outlined"}),C&&s&&e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,minWidth:120},children:[e.jsx(m,{size:20}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"Filtering..."})]})]}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["Showing ",a.length.toLocaleString()," of ",o.length.toLocaleString()," ","items"]})]}),e.jsxs(D,{sx:{maxHeight:400,overflow:"auto",border:1,borderColor:"divider",borderRadius:1},children:[a.slice(0,50).map(i=>e.jsx(f,{divider:!0,children:e.jsx(v,{primary:i.name,secondary:`Category: ${i.category} | Value: ${i.value}`})},i.id)),a.length>50&&e.jsx(f,{children:e.jsx(v,{secondary:`... and ${(a.length-50).toLocaleString()} more items`})})]}),e.jsx(y,{sx:{my:4}}),e.jsxs(n,{children:[e.jsx(t,{variant:"h6",gutterBottom:!0,children:"Implementation"}),e.jsx(j,{title:"âœ… Optimized (with useTransition)",code:`const [inputValue, setInputValue] = useState('');
const [filter, setFilter] = useState('');
const [isPending, startTransition] = useTransition();

const handleChange = (e) => {
  const value = e.target.value;

  // Urgent: Update input immediately
  setInputValue(value);

  // Non-urgent: Defer expensive filtering
  startTransition(() => {
    setFilter(value);
  });
};`,language:"typescript"}),e.jsx(j,{title:"âŒ Baseline (without useTransition)",code:`const [inputValue, setInputValue] = useState('');
const [filter, setFilter] = useState('');

const handleChange = (e) => {
  const value = e.target.value;

  // Both updates are urgent - blocks UI!
  setInputValue(value);
  setFilter(value);
};`,language:"typescript"})]}),e.jsx(y,{sx:{my:4}}),e.jsxs(n,{children:[e.jsx(t,{variant:"h6",gutterBottom:!0,children:"How it works"}),e.jsxs(t,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["â€¢ ",e.jsx("strong",{children:"Urgent updates:"})," Input field updates immediately for responsive typing"]}),e.jsxs(t,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["â€¢ ",e.jsx("strong",{children:"Non-urgent updates:"})," Expensive filtering wrapped in startTransition"]}),e.jsxs(t,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["â€¢ ",e.jsx("strong",{children:"Concurrent rendering:"})," React can interrupt filtering to keep UI responsive"]}),e.jsxs(t,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["â€¢ ",e.jsx("strong",{children:"isPending:"})," Shows when transition is in progress"]}),e.jsxs(d,{severity:"info",sx:{mt:2},children:[e.jsx(t,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"ðŸ’¡ Key Insight: It's About User Experience, Not Metrics"}),e.jsxs(t,{variant:"body2",children:["useTransition doesn't make your code faster or reduce renders. It makes your UI ",e.jsx("strong",{children:"feel"})," more responsive by prioritizing user input over expensive background work. The difference is in the experience, not the numbers."]})]})]})]})}export{q as default};
